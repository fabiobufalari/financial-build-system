import{r as i,j as s}from"./index-DXA_vukq.js";import{e as y}from"./employeeService-CKeZG5MO.js";const L=()=>{const[n,v]=i.useState([]),[t,d]=i.useState([]),[f,o]=i.useState(!0),[m,h]=i.useState(null),[c,b]=i.useState(""),[e,N]=i.useState(null),[r,x]=i.useState("list");i.useEffect(()=>{g()},[]),i.useEffect(()=>{w()},[n,c]);const g=async()=>{try{o(!0);const a=await y.getAllEmployees();v(a),h(null)}catch(a){h("Erro ao carregar funcion√°rios"),console.error("Error loading employees:",a)}finally{o(!1)}},w=()=>{if(!c){d(n);return}const a=c.toLowerCase(),u=n.filter(l=>l.firstName.toLowerCase().includes(a)||l.lastName.toLowerCase().includes(a)||l.email.toLowerCase().includes(a)||l.employeeId.toLowerCase().includes(a)||l.position.toLowerCase().includes(a)||l.department.toLowerCase().includes(a));d(u)},j=a=>{N(a)},p=a=>{const l={ACTIVE:{label:"Ativo",className:"status-active"},INACTIVE:{label:"Inativo",className:"status-inactive"},ON_LEAVE:{label:"Licen√ßa",className:"status-leave"},TERMINATED:{label:"Desligado",className:"status-terminated"}}[a]||{label:a,className:"status-default"};return s.jsx("span",{className:`status-badge ${l.className}`,children:l.label})};return f?s.jsx("div",{className:"maps-page",children:s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Carregando mapa de funcion√°rios..."})]})}):s.jsxs("div",{className:"maps-page",children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"üó∫Ô∏è Mapa de Funcion√°rios"}),s.jsx("p",{children:"Localize e gerencie funcion√°rios por localiza√ß√£o"})]}),m&&s.jsxs("div",{className:"error-message",children:[s.jsx("span",{className:"error-icon",children:"‚ö†Ô∏è"}),m]}),s.jsxs("div",{className:"maps-controls",children:[s.jsx("div",{className:"search-section",children:s.jsxs("div",{className:"search-input-wrapper",children:[s.jsx("span",{className:"search-icon",children:"üîç"}),s.jsx("input",{type:"text",placeholder:"Buscar funcion√°rio por nome, cargo, departamento...",value:c,onChange:a=>b(a.target.value),className:"search-input"})]})}),s.jsxs("div",{className:"view-controls",children:[s.jsx("button",{onClick:()=>x("list"),className:`view-button ${r==="list"?"active":""}`,children:"üìã Lista"}),s.jsx("button",{onClick:()=>x("map"),className:`view-button ${r==="map"?"active":""}`,children:"üó∫Ô∏è Mapa"})]})]}),s.jsx("div",{className:"results-summary",children:s.jsx("p",{children:c?`${t.length} funcion√°rios encontrados para "${c}"`:`${n.length} funcion√°rios cadastrados`})}),s.jsx("div",{className:"maps-content",children:r==="list"?s.jsx("div",{className:"employee-list-view",children:t.length>0?s.jsx("div",{className:"employee-cards-grid",children:t.map(a=>s.jsxs("div",{className:`employee-location-card ${(e==null?void 0:e.id)===a.id?"selected":""}`,onClick:()=>j(a),children:[s.jsxs("div",{className:"employee-card-header",children:[s.jsxs("div",{className:"employee-avatar",children:[a.firstName.charAt(0),a.lastName.charAt(0)]}),s.jsxs("div",{className:"employee-info",children:[s.jsxs("h3",{children:[a.firstName," ",a.lastName]}),s.jsx("p",{className:"employee-position",children:a.position}),s.jsx("p",{className:"employee-department",children:a.department})]}),p(a.status)]}),s.jsxs("div",{className:"location-info",children:[s.jsxs("div",{className:"location-row",children:[s.jsx("span",{className:"location-icon",children:"üìç"}),s.jsxs("span",{className:"location-text",children:[a.address.city,", ",a.address.state]})]}),s.jsxs("div",{className:"location-row",children:[s.jsx("span",{className:"location-icon",children:"üìß"}),s.jsx("span",{className:"location-text",children:a.email})]}),s.jsxs("div",{className:"location-row",children:[s.jsx("span",{className:"location-icon",children:"üìû"}),s.jsx("span",{className:"location-text",children:a.phone})]})]}),s.jsxs("div",{className:"employee-actions",children:[s.jsx("button",{className:"action-button view-button-small",children:"üëÅÔ∏è Ver Detalhes"}),s.jsx("button",{className:"action-button locate-button",children:"üéØ Localizar"})]})]},a.id))}):s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-icon",children:"üîç"}),s.jsx("h3",{children:"Nenhum funcion√°rio encontrado"}),s.jsx("p",{children:c?`N√£o encontramos funcion√°rios para "${c}". Tente ajustar sua busca.`:"Nenhum funcion√°rio cadastrado no sistema."})]})}):s.jsxs("div",{className:"map-view",children:[s.jsx("div",{className:"map-container",children:s.jsx("div",{className:"map-placeholder",children:s.jsxs("div",{className:"map-placeholder-content",children:[s.jsx("h3",{children:"üó∫Ô∏è Visualiza√ß√£o do Mapa"}),s.jsx("p",{children:"Integra√ß√£o com Google Maps ou OpenStreetMap seria implementada aqui"}),s.jsxs("div",{className:"map-features",children:[s.jsxs("div",{className:"feature-item",children:[s.jsx("span",{className:"feature-icon",children:"üìç"}),s.jsx("span",{children:"Localiza√ß√£o dos funcion√°rios"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx("span",{className:"feature-icon",children:"üöó"}),s.jsx("span",{children:"Rotas e dire√ß√µes"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx("span",{className:"feature-icon",children:"üè¢"}),s.jsx("span",{children:"Escrit√≥rios e projetos"})]})]})]})})}),s.jsxs("div",{className:"map-sidebar",children:[s.jsx("h4",{children:"Funcion√°rios Pr√≥ximos"}),s.jsx("div",{className:"nearby-employees",children:t.slice(0,5).map(a=>s.jsxs("div",{className:"nearby-employee-item",children:[s.jsxs("div",{className:"employee-mini-avatar",children:[a.firstName.charAt(0),a.lastName.charAt(0)]}),s.jsxs("div",{className:"employee-mini-info",children:[s.jsxs("p",{className:"employee-name",children:[a.firstName," ",a.lastName]}),s.jsxs("p",{className:"employee-location",children:["üìç ",a.address.city,", ",a.address.state]})]}),s.jsx("button",{className:"locate-mini-button",onClick:()=>j(a),children:"üéØ"})]},a.id))})]})]})}),e&&s.jsx("div",{className:"employee-details-modal",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:"Detalhes do Funcion√°rio"}),s.jsx("button",{onClick:()=>N(null),className:"close-button",children:"‚úï"})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"employee-full-info",children:[s.jsxs("div",{className:"employee-avatar-large",children:[e.firstName.charAt(0),e.lastName.charAt(0)]}),s.jsxs("div",{className:"employee-details-grid",children:[s.jsxs("div",{className:"detail-section",children:[s.jsx("h4",{children:"Informa√ß√µes Pessoais"}),s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{className:"detail-label",children:"Nome:"}),s.jsxs("span",{className:"detail-value",children:[e.firstName," ",e.lastName]})]}),s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{className:"detail-label",children:"Email:"}),s.jsx("span",{className:"detail-value",children:e.email})]}),s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{className:"detail-label",children:"Telefone:"}),s.jsx("span",{className:"detail-value",children:e.phone})]})]}),s.jsxs("div",{className:"detail-section",children:[s.jsx("h4",{children:"Informa√ß√µes Profissionais"}),s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{className:"detail-label",children:"Cargo:"}),s.jsx("span",{className:"detail-value",children:e.position})]}),s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{className:"detail-label",children:"Departamento:"}),s.jsx("span",{className:"detail-value",children:e.department})]}),s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{className:"detail-label",children:"Status:"}),s.jsx("span",{className:"detail-value",children:p(e.status)})]})]}),s.jsxs("div",{className:"detail-section",children:[s.jsx("h4",{children:"Localiza√ß√£o"}),s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{className:"detail-label",children:"Endere√ßo:"}),s.jsxs("span",{className:"detail-value",children:[e.address.street,", ",e.address.number]})]}),s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{className:"detail-label",children:"Cidade:"}),s.jsxs("span",{className:"detail-value",children:[e.address.city,", ",e.address.state]})]}),s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{className:"detail-label",children:"CEP:"}),s.jsx("span",{className:"detail-value",children:e.address.zipCode})]})]})]})]})}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{className:"action-button primary-button",children:"üìß Enviar Email"}),s.jsx("button",{className:"action-button secondary-button",children:"üìû Ligar"}),s.jsx("button",{className:"action-button secondary-button",children:"üó∫Ô∏è Ver no Mapa"})]})]})})]})};export{L as default};
